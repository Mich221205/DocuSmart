<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle del Documental - DocuSmart</title>
  <link rel="stylesheet" href="css/styledetalle.css">
</head>
<body>
  <div class="detail-container">
    <div class="logo">
      <h1>DocuSmart</h1>
    </div>
    <h2>Detalle del Documental</h2>
    
    <div id="contenido">
      <h3>Cargando...</h3>
    </div>

    <a class="back-link" href="home.html">Volver a recomendaciones</a>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");

      if (!id) {
        document.getElementById("contenido").innerHTML = "<p>ID no proporcionado.</p>";
        return;
      }

      fetch(`http://localhost:3000/documental/${id}`)
        .then(res => res.json())
        .then(doc => {
          const cont = document.getElementById("contenido");

          cont.innerHTML = `
            <img src="${doc.ruta_imagen || 'img/default.png'}" alt="${doc.TITULO}" style="max-width: 100%; margin-bottom: 20px;">
            <h3>${doc.TITULO}</h3>
            <p><strong>Duraci√≥n:</strong> ${doc.DURACION}</p>
            <p><strong>Categor√≠a:</strong> ${doc.GENERO}</p>
            <p><strong>Descripci√≥n:</strong> ${doc.DESCRIPCION}</p>

            <div class="buttons">
              <a href="${doc.ruta_video}" target="_blank"><button>‚ñ∂ Ver ahora</button></a>
              <button>üëç Me gusta</button>
              <button>üëé No me gusta</button>
              <button>üö´ No me interesa</button>
            </div>
          `;
        })
        .catch(err => {
          console.error("‚ùå Error al obtener detalle:", err);
          document.getElementById("contenido").innerHTML = "<p>Error al cargar el documental.</p>";
        });
    });
  </script>
</body>
</html>
